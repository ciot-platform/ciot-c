\doxysection{ciot\+\_\+storage.\+h}
\hypertarget{ciot__storage_8h_source}{}\label{ciot__storage_8h_source}\index{include/ciot\_storage.h@{include/ciot\_storage.h}}
\mbox{\hyperlink{ciot__storage_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#ifndef\ \_\_CIOT\_STORAGE\_\_H\_\_}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#define\ \_\_CIOT\_STORAGE\_\_H\_\_}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00015\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}\ \{}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ciot__storage__types_8h}{types/ciot\_storage\_types.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ciot__iface_8h}{ciot\_iface.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ciot__err_8h}{ciot\_err.h}}"{}}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00025\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }ciot\_storage\ *\mbox{\hyperlink{ciot__storage_8h_abd15a0b08206e1aee533659f5c760024}{ciot\_storage\_t}};}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00030\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\_\_attribute\_\_((packed))}
\DoxyCodeLine{00031\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \mbox{\hyperlink{structciot__msg__header__t}{ciot\_msg\_header\_t}}\ \mbox{\hyperlink{structciot__storage__status__msg__t_ac82086f11a03c9e8ff189f5ca9c26f0f}{header}};\ \ \ \ \ \ }
\DoxyCodeLine{00033\ \ \ \ \ \mbox{\hyperlink{structciot__storage__status__t}{ciot\_storage\_status\_t}}\ \mbox{\hyperlink{structciot__storage__status__msg__t_ac1a66aa256f203858bb2477b812e36fb}{status}};\ \ }
\DoxyCodeLine{00034\ \}\ \mbox{\hyperlink{structciot__storage__status__msg__t}{ciot\_storage\_status\_msg\_t}};}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00042\ \mbox{\hyperlink{ciot__storage_8h_abd15a0b08206e1aee533659f5c760024}{ciot\_storage\_t}}\ \mbox{\hyperlink{ciot__storage_8h_a4f5d3c6bb977f52bb50f491526710e1e}{ciot\_storage\_new}}(\textcolor{keywordtype}{void}\ *handle);}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00049\ \mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\_err\_t}}\ \mbox{\hyperlink{ciot__storage_8h_a03cb31fbd7d15d42639eca3b35e681b7}{ciot\_storage\_init}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00058\ \mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\_err\_t}}\ \mbox{\hyperlink{ciot__storage_8h_ade9c8a3a8b08bfbef4d4b7431ec5a740}{ciot\_storage\_start}}(\mbox{\hyperlink{ciot__storage_8h_abd15a0b08206e1aee533659f5c760024}{ciot\_storage\_t}}\ self,\ \mbox{\hyperlink{structciot__storage__cfg__t}{ciot\_storage\_cfg\_t}}\ *cfg);}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00066\ \mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\_err\_t}}\ \mbox{\hyperlink{ciot__storage_8h_ac895b62ff9edf0c92bd9223e66c752ec}{ciot\_storage\_stop}}(\mbox{\hyperlink{ciot__storage_8h_abd15a0b08206e1aee533659f5c760024}{ciot\_storage\_t}}\ self);}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00075\ \mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\_err\_t}}\ \mbox{\hyperlink{ciot__storage_8h_a7d7c52b2cee69e6b7c23be1ecc8ed0d7}{ciot\_storage\_process\_req}}(\mbox{\hyperlink{ciot__storage_8h_abd15a0b08206e1aee533659f5c760024}{ciot\_storage\_t}}\ self,\ \mbox{\hyperlink{structciot__storage__req__t}{ciot\_storage\_req\_t}}\ *req);}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00085\ \mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\_err\_t}}\ \mbox{\hyperlink{ciot__storage_8h_aa54c8242169de35f8bf2a6a074cc6945}{ciot\_storage\_send\_data}}(\mbox{\hyperlink{ciot__storage_8h_abd15a0b08206e1aee533659f5c760024}{ciot\_storage\_t}}\ self,\ uint8\_t\ *data,\ \textcolor{keywordtype}{int}\ size);}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00096\ \mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\_err\_t}}\ \mbox{\hyperlink{ciot__storage_8h_ae217d8018730853ce5e77e5c11b8ce4d}{ciot\_storage\_save}}(\mbox{\hyperlink{ciot__storage_8h_abd15a0b08206e1aee533659f5c760024}{ciot\_storage\_t}}\ self,\ \textcolor{keywordtype}{char}\ *path,\ uint8\_t\ *data,\ \textcolor{keywordtype}{int}\ size);}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00107\ \mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\_err\_t}}\ \mbox{\hyperlink{ciot__storage_8h_a5dc173d4e3d285404c40f975c5ebff7d}{ciot\_storage\_load}}(\mbox{\hyperlink{ciot__storage_8h_abd15a0b08206e1aee533659f5c760024}{ciot\_storage\_t}}\ self,\ \textcolor{keywordtype}{char}\ *path,\ uint8\_t\ *data,\ \textcolor{keywordtype}{int}\ size);}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00116\ \mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\_err\_t}}\ \mbox{\hyperlink{ciot__storage_8h_a3ef2b7405e84549b877fc3ff56573a70}{ciot\_storage\_delete}}(\mbox{\hyperlink{ciot__storage_8h_abd15a0b08206e1aee533659f5c760024}{ciot\_storage\_t}}\ self,\ \textcolor{keywordtype}{char}\ *path);}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00124\ \mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\_err\_t}}\ \mbox{\hyperlink{ciot__storage_8h_a2ba18ab68d78441277427d4d5d17d8e2}{ciot\_storage\_format}}(\mbox{\hyperlink{ciot__storage_8h_abd15a0b08206e1aee533659f5c760024}{ciot\_storage\_t}}\ self);}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00127\ \}}
\DoxyCodeLine{00128\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \textcolor{preprocessor}{\#endif\ \ }}

\end{DoxyCode}
