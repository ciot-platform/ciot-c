\doxysection{include/ciot\+\_\+dfu.h File Reference}
\hypertarget{ciot__dfu_8h}{}\label{ciot__dfu_8h}\index{include/ciot\_dfu.h@{include/ciot\_dfu.h}}


Header file for Device Firmware Update (DFU) functionality in CIOT library.  


{\ttfamily \#include "{}types/ciot\+\_\+dfu\+\_\+types.\+h"{}}\newline
{\ttfamily \#include "{}ciot\+\_\+iface.\+h"{}}\newline
{\ttfamily \#include "{}ciot\+\_\+err.\+h"{}}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structciot__dfu__status__msg__t}{ciot\+\_\+dfu\+\_\+status\+\_\+msg\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Struct for DFU status message. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct ciot\+\_\+dfu \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{ciot__dfu_8h_a185c613ee5be1f09245c6f2dcf92d340}{ciot\+\_\+dfu\+\_\+t}}
\item 
typedef enum \mbox{\hyperlink{ciot__dfu_8h_a20fffb74034c28e3c7f56b2466d379fa}{ciot\+\_\+dfu\+\_\+event\+\_\+id}} \mbox{\hyperlink{ciot__dfu_8h_a05b6b5e8d94559756412865daf115077}{ciot\+\_\+dfu\+\_\+event\+\_\+id\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Enumerates DFU event IDs. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{ciot__dfu_8h_a20fffb74034c28e3c7f56b2466d379fa}{ciot\+\_\+dfu\+\_\+event\+\_\+id}} \{ \mbox{\hyperlink{ciot__dfu_8h_a20fffb74034c28e3c7f56b2466d379faa120fde02407033deee0ab692a65a7902}{CIOT\+\_\+\+DFU\+\_\+\+EVENT\+\_\+\+STATE\+\_\+\+CHANGED}} = CIOT\+\_\+\+IFACE\+\_\+\+EVENT\+\_\+\+CUSTOM
 \}
\begin{DoxyCompactList}\small\item\em Enumerates DFU event IDs. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{ciot__dfu_8h_a185c613ee5be1f09245c6f2dcf92d340}{ciot\+\_\+dfu\+\_\+t}} \mbox{\hyperlink{ciot__dfu_8h_a6552eb94e759a22b9fd3e3da8ed1d755}{ciot\+\_\+dfu\+\_\+new}} (void \texorpdfstring{$\ast$}{*}handle)
\begin{DoxyCompactList}\small\item\em Creates a new CIOT DFU object. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\+\_\+err\+\_\+t}} \mbox{\hyperlink{ciot__dfu_8h_ab157cc81dbd5e4045ac42b087f200b56}{ciot\+\_\+dfu\+\_\+start}} (\mbox{\hyperlink{ciot__dfu_8h_a185c613ee5be1f09245c6f2dcf92d340}{ciot\+\_\+dfu\+\_\+t}} self, \mbox{\hyperlink{structciot__dfu__cfg__t}{ciot\+\_\+dfu\+\_\+cfg\+\_\+t}} \texorpdfstring{$\ast$}{*}cfg)
\begin{DoxyCompactList}\small\item\em Starts the DFU process. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\+\_\+err\+\_\+t}} \mbox{\hyperlink{ciot__dfu_8h_af686f43068829e48ff6ca2455a8b1f05}{ciot\+\_\+dfu\+\_\+stop}} (\mbox{\hyperlink{ciot__dfu_8h_a185c613ee5be1f09245c6f2dcf92d340}{ciot\+\_\+dfu\+\_\+t}} self)
\begin{DoxyCompactList}\small\item\em Stops the DFU process. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\+\_\+err\+\_\+t}} \mbox{\hyperlink{ciot__dfu_8h_ad40861d034c57576a1bf3aaa3fbc2d9b}{ciot\+\_\+dfu\+\_\+process\+\_\+req}} (\mbox{\hyperlink{ciot__dfu_8h_a185c613ee5be1f09245c6f2dcf92d340}{ciot\+\_\+dfu\+\_\+t}} self, \mbox{\hyperlink{structciot__dfu__req__t}{ciot\+\_\+dfu\+\_\+req\+\_\+t}} \texorpdfstring{$\ast$}{*}req)
\begin{DoxyCompactList}\small\item\em Processes a DFU request. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\+\_\+err\+\_\+t}} \mbox{\hyperlink{ciot__dfu_8h_a586e31131b7ab4e0acb3df32122a4564}{ciot\+\_\+dfu\+\_\+send\+\_\+data}} (\mbox{\hyperlink{ciot__dfu_8h_a185c613ee5be1f09245c6f2dcf92d340}{ciot\+\_\+dfu\+\_\+t}} self, uint8\+\_\+t \texorpdfstring{$\ast$}{*}data, int size)
\begin{DoxyCompactList}\small\item\em Sends data during the DFU process. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\+\_\+err\+\_\+t}} \mbox{\hyperlink{ciot__dfu_8h_a519f6db211ff754385aba2d45cfb3a28}{ciot\+\_\+dfu\+\_\+task}} (\mbox{\hyperlink{ciot__dfu_8h_a185c613ee5be1f09245c6f2dcf92d340}{ciot\+\_\+dfu\+\_\+t}} self)
\begin{DoxyCompactList}\small\item\em Performs the DFU task. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Header file for Device Firmware Update (DFU) functionality in CIOT library. 

\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2024-\/03-\/20 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
Wesley Santos (\href{mailto:wesleypro37@gmail.com}{\texttt{ wesleypro37@gmail.\+com}}) 
\end{DoxyAuthor}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2024 
\end{DoxyCopyright}


\doxysubsection{Typedef Documentation}
\Hypertarget{ciot__dfu_8h_a05b6b5e8d94559756412865daf115077}\label{ciot__dfu_8h_a05b6b5e8d94559756412865daf115077} 
\index{ciot\_dfu.h@{ciot\_dfu.h}!ciot\_dfu\_event\_id\_t@{ciot\_dfu\_event\_id\_t}}
\index{ciot\_dfu\_event\_id\_t@{ciot\_dfu\_event\_id\_t}!ciot\_dfu.h@{ciot\_dfu.h}}
\doxysubsubsection{\texorpdfstring{ciot\_dfu\_event\_id\_t}{ciot\_dfu\_event\_id\_t}}
{\footnotesize\ttfamily typedef enum \mbox{\hyperlink{ciot__dfu_8h_a20fffb74034c28e3c7f56b2466d379fa}{ciot\+\_\+dfu\+\_\+event\+\_\+id}} \mbox{\hyperlink{ciot__dfu_8h_a05b6b5e8d94559756412865daf115077}{ciot\+\_\+dfu\+\_\+event\+\_\+id\+\_\+t}}}



Enumerates DFU event IDs. 

\Hypertarget{ciot__dfu_8h_a185c613ee5be1f09245c6f2dcf92d340}\label{ciot__dfu_8h_a185c613ee5be1f09245c6f2dcf92d340} 
\index{ciot\_dfu.h@{ciot\_dfu.h}!ciot\_dfu\_t@{ciot\_dfu\_t}}
\index{ciot\_dfu\_t@{ciot\_dfu\_t}!ciot\_dfu.h@{ciot\_dfu.h}}
\doxysubsubsection{\texorpdfstring{ciot\_dfu\_t}{ciot\_dfu\_t}}
{\footnotesize\ttfamily typedef struct ciot\+\_\+dfu\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{ciot__dfu_8h_a185c613ee5be1f09245c6f2dcf92d340}{ciot\+\_\+dfu\+\_\+t}}}

Opaque pointer to a CIOT DFU object. 

\doxysubsection{Enumeration Type Documentation}
\Hypertarget{ciot__dfu_8h_a20fffb74034c28e3c7f56b2466d379fa}\label{ciot__dfu_8h_a20fffb74034c28e3c7f56b2466d379fa} 
\index{ciot\_dfu.h@{ciot\_dfu.h}!ciot\_dfu\_event\_id@{ciot\_dfu\_event\_id}}
\index{ciot\_dfu\_event\_id@{ciot\_dfu\_event\_id}!ciot\_dfu.h@{ciot\_dfu.h}}
\doxysubsubsection{\texorpdfstring{ciot\_dfu\_event\_id}{ciot\_dfu\_event\_id}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{ciot__dfu_8h_a20fffb74034c28e3c7f56b2466d379fa}{ciot\+\_\+dfu\+\_\+event\+\_\+id}}}



Enumerates DFU event IDs. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{CIOT\_DFU\_EVENT\_STATE\_CHANGED@{CIOT\_DFU\_EVENT\_STATE\_CHANGED}!ciot\_dfu.h@{ciot\_dfu.h}}\index{ciot\_dfu.h@{ciot\_dfu.h}!CIOT\_DFU\_EVENT\_STATE\_CHANGED@{CIOT\_DFU\_EVENT\_STATE\_CHANGED}}}\Hypertarget{ciot__dfu_8h_a20fffb74034c28e3c7f56b2466d379faa120fde02407033deee0ab692a65a7902}\label{ciot__dfu_8h_a20fffb74034c28e3c7f56b2466d379faa120fde02407033deee0ab692a65a7902} 
CIOT\+\_\+\+DFU\+\_\+\+EVENT\+\_\+\+STATE\+\_\+\+CHANGED&DFU state changed event. \\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\Hypertarget{ciot__dfu_8h_a6552eb94e759a22b9fd3e3da8ed1d755}\label{ciot__dfu_8h_a6552eb94e759a22b9fd3e3da8ed1d755} 
\index{ciot\_dfu.h@{ciot\_dfu.h}!ciot\_dfu\_new@{ciot\_dfu\_new}}
\index{ciot\_dfu\_new@{ciot\_dfu\_new}!ciot\_dfu.h@{ciot\_dfu.h}}
\doxysubsubsection{\texorpdfstring{ciot\_dfu\_new()}{ciot\_dfu\_new()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ciot__dfu_8h_a185c613ee5be1f09245c6f2dcf92d340}{ciot\+\_\+dfu\+\_\+t}} ciot\+\_\+dfu\+\_\+new (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{handle }\end{DoxyParamCaption})}



Creates a new CIOT DFU object. 


\begin{DoxyParams}{Parameters}
{\em handle} & Pointer to the handle. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the created DFU object. 
\end{DoxyReturn}
\Hypertarget{ciot__dfu_8h_ad40861d034c57576a1bf3aaa3fbc2d9b}\label{ciot__dfu_8h_ad40861d034c57576a1bf3aaa3fbc2d9b} 
\index{ciot\_dfu.h@{ciot\_dfu.h}!ciot\_dfu\_process\_req@{ciot\_dfu\_process\_req}}
\index{ciot\_dfu\_process\_req@{ciot\_dfu\_process\_req}!ciot\_dfu.h@{ciot\_dfu.h}}
\doxysubsubsection{\texorpdfstring{ciot\_dfu\_process\_req()}{ciot\_dfu\_process\_req()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\+\_\+err\+\_\+t}} ciot\+\_\+dfu\+\_\+process\+\_\+req (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ciot__dfu_8h_a185c613ee5be1f09245c6f2dcf92d340}{ciot\+\_\+dfu\+\_\+t}}}]{self,  }\item[{\mbox{\hyperlink{structciot__dfu__req__t}{ciot\+\_\+dfu\+\_\+req\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{req }\end{DoxyParamCaption})}



Processes a DFU request. 


\begin{DoxyParams}{Parameters}
{\em self} & Pointer to the DFU object. \\
\hline
{\em req} & Pointer to the DFU request. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code indicating the status of the operation. 
\end{DoxyReturn}
\Hypertarget{ciot__dfu_8h_a586e31131b7ab4e0acb3df32122a4564}\label{ciot__dfu_8h_a586e31131b7ab4e0acb3df32122a4564} 
\index{ciot\_dfu.h@{ciot\_dfu.h}!ciot\_dfu\_send\_data@{ciot\_dfu\_send\_data}}
\index{ciot\_dfu\_send\_data@{ciot\_dfu\_send\_data}!ciot\_dfu.h@{ciot\_dfu.h}}
\doxysubsubsection{\texorpdfstring{ciot\_dfu\_send\_data()}{ciot\_dfu\_send\_data()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\+\_\+err\+\_\+t}} ciot\+\_\+dfu\+\_\+send\+\_\+data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ciot__dfu_8h_a185c613ee5be1f09245c6f2dcf92d340}{ciot\+\_\+dfu\+\_\+t}}}]{self,  }\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{data,  }\item[{int}]{size }\end{DoxyParamCaption})}



Sends data during the DFU process. 


\begin{DoxyParams}{Parameters}
{\em self} & Pointer to the DFU object. \\
\hline
{\em data} & Pointer to the data to be sent. \\
\hline
{\em size} & Size of the data to be sent. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code indicating the status of the operation. 
\end{DoxyReturn}
\Hypertarget{ciot__dfu_8h_ab157cc81dbd5e4045ac42b087f200b56}\label{ciot__dfu_8h_ab157cc81dbd5e4045ac42b087f200b56} 
\index{ciot\_dfu.h@{ciot\_dfu.h}!ciot\_dfu\_start@{ciot\_dfu\_start}}
\index{ciot\_dfu\_start@{ciot\_dfu\_start}!ciot\_dfu.h@{ciot\_dfu.h}}
\doxysubsubsection{\texorpdfstring{ciot\_dfu\_start()}{ciot\_dfu\_start()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\+\_\+err\+\_\+t}} ciot\+\_\+dfu\+\_\+start (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ciot__dfu_8h_a185c613ee5be1f09245c6f2dcf92d340}{ciot\+\_\+dfu\+\_\+t}}}]{self,  }\item[{\mbox{\hyperlink{structciot__dfu__cfg__t}{ciot\+\_\+dfu\+\_\+cfg\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{cfg }\end{DoxyParamCaption})}



Starts the DFU process. 


\begin{DoxyParams}{Parameters}
{\em self} & Pointer to the DFU object. \\
\hline
{\em cfg} & Pointer to the DFU configuration. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code indicating the status of the operation. 
\end{DoxyReturn}
\Hypertarget{ciot__dfu_8h_af686f43068829e48ff6ca2455a8b1f05}\label{ciot__dfu_8h_af686f43068829e48ff6ca2455a8b1f05} 
\index{ciot\_dfu.h@{ciot\_dfu.h}!ciot\_dfu\_stop@{ciot\_dfu\_stop}}
\index{ciot\_dfu\_stop@{ciot\_dfu\_stop}!ciot\_dfu.h@{ciot\_dfu.h}}
\doxysubsubsection{\texorpdfstring{ciot\_dfu\_stop()}{ciot\_dfu\_stop()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\+\_\+err\+\_\+t}} ciot\+\_\+dfu\+\_\+stop (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ciot__dfu_8h_a185c613ee5be1f09245c6f2dcf92d340}{ciot\+\_\+dfu\+\_\+t}}}]{self }\end{DoxyParamCaption})}



Stops the DFU process. 


\begin{DoxyParams}{Parameters}
{\em self} & Pointer to the DFU object. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code indicating the status of the operation. 
\end{DoxyReturn}
\Hypertarget{ciot__dfu_8h_a519f6db211ff754385aba2d45cfb3a28}\label{ciot__dfu_8h_a519f6db211ff754385aba2d45cfb3a28} 
\index{ciot\_dfu.h@{ciot\_dfu.h}!ciot\_dfu\_task@{ciot\_dfu\_task}}
\index{ciot\_dfu\_task@{ciot\_dfu\_task}!ciot\_dfu.h@{ciot\_dfu.h}}
\doxysubsubsection{\texorpdfstring{ciot\_dfu\_task()}{ciot\_dfu\_task()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ciot__err_8h_ad6378d4036e8a842176b2db8efb349c8}{ciot\+\_\+err\+\_\+t}} ciot\+\_\+dfu\+\_\+task (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ciot__dfu_8h_a185c613ee5be1f09245c6f2dcf92d340}{ciot\+\_\+dfu\+\_\+t}}}]{self }\end{DoxyParamCaption})}



Performs the DFU task. 


\begin{DoxyParams}{Parameters}
{\em self} & Pointer to the DFU object. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code indicating the status of the operation. 
\end{DoxyReturn}
